{% extends "Skele.html" %}

{% block Title %}Home{% endblock Title %}

{% block style %}
<style>
  {% comment %} Background image {% endcomment %}
  body {
    background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.7)), url('/static/bg_image.jpg') center / cover no-repeat; 
    background-size: cover; 
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
  }
  .loader-container-signup {
    display: none;
    position: fixed;
    background-image: url('/static/bg_image.jpg') ;
    background-size: cover;
    background-position: center;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.8);
    justify-content: center;
    align-items: center;
    z-index:1000;
  }

  @keyframes slidedown{
    from{
      transform : translateY(-150%)
    }
    to{
      transform : translateY(0);
    }
  }
  .popup{
    min-width:250px;
    max-height:300px;
    background-image:linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/static/popup_bg.jpg') ;
    background-image-opacity:80%;
    background-size: cover;
    background-position: center;
    animation-name : slidedown ;
    animation-duration : 1s;
    animation-timing-function: ease-in;
    animation-iteration-count: 1;
    border-color : #ef00df !important; 
    background-color : #ff95f8; 
    border-radius : 10%;
    height : 50%;
    width : 35%;
  }
  .close-button {
    position: absolute;
    right: 20px;
    top:10px;
    cursor: pointer;
    font-size: 18px;
    color: #777;
  }

  .signup-content {
    padding: 10px;
  }
  .signup-label {
    color:rgb(255, 173, 252);
    width: 100%;
    font-size:25px;
  }
  .signup-input {
    width: 100%;
    height : 25px;
    padding: 10px;
    margin-bottom: 15px;
    font-size:15px;
  }

  .signup-button {
    display: inline-block;
    padding: 10px;
    background-color:rgb(4, 234, 250);
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 12px;
  }
</style>
{% endblock style %}


{% block Body %}

<main>
    <div class="flex-container">
         {% comment %} Sidebar {% endcomment %}
        <div class="fix d-flex flex-column flex-shrink-0 bg-body-tertiary z-index: 1; " style="width:15%; max-width:4.5rem; height=100 ">
            <a href="/" class="d-block p-3 link-body-emphasis text-decoration-none" title="Icon-only" data-bs-toggle="tooltip" data-bs-placement="right">
              <svg class="bi pe-none" width="40" height="32"><use xlink:href="#bootstrap"></svg>
              <span class="visually-hidden">Icon-only</span>
            </a>
            <ul class="nav nav-pills nav-flush flex-column mb-auto text-center  " >
              <li class="nav-item ">
                <a href="/" class="nav-link py-3 border-bottom rounded-0  Custom-color-active" aria-current="page" title="Home" data-bs-toggle="tooltip" data-bs-placement="right" >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                        <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z">
                      </svg>
                </a>
              </li>
              <li>
                <a href="#" class="nav-link Custom-color  py-3 border-bottom rounded-0" title="Dashboard" data-bs-toggle="tooltip" data-bs-placement="right" fill="pink">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cake2-fill" viewBox="0 0 16 16">
                        <path d="m2.899.804.595-.792.598.79A.747.747 0 0 1 4 1.806v4.886c-.354-.06-.689-.127-1-.201V1.813a.747.747 0 0 1-.1-1.01ZM13 1.806v4.685a15.19 15.19 0 0 1-1 .201v-4.88a.747.747 0 0 1-.1-1.007l.595-.792.598.79A.746.746 0 0 1 13 1.806m-3 0a.746.746 0 0 0 .092-1.004l-.598-.79-.595.792A.747.747 0 0 0 9 1.813v5.17c.341-.013.675-.031 1-.055zm-3 0v5.176c-.341-.012-.675-.03-1-.054V1.813a.747.747 0 0 1-.1-1.01l.595-.79.598.789A.747.747 0 0 1 7 1.806"/>
                        <path d="M4.5 6.988V4.226a22.6 22.6 0 0 1 1-.114V7.16c0 .131.101.24.232.25l.231.017c.332.024.672.043 1.02.055l.258.01a.25.25 0 0 0 .26-.25V4.003a29.015 29.015 0 0 1 1 0V7.24a.25.25 0 0 0 .258.25l.259-.009c.347-.012.687-.03 1.019-.055l.231-.017a.25.25 0 0 0 .232-.25V4.112c.345.031.679.07 1 .114v2.762a.25.25 0 0 0 .292.246l.291-.049c.364-.061.71-.13 1.033-.208l.192-.046a.25.25 0 0 0 .192-.243V4.621c.672.184 1.251.409 1.677.678.415.261.823.655.823 1.2V13.5c0 .546-.408.94-.823 1.201-.44.278-1.043.51-1.745.696-1.41.376-3.33.603-5.432.603-2.102 0-4.022-.227-5.432-.603-.702-.187-1.305-.418-1.745-.696C.408 14.44 0 14.046 0 13.5v-7c0-.546.408-.94.823-1.201.426-.269 1.005-.494 1.677-.678v2.067c0 .116.08.216.192.243l.192.046c.323.077.669.147 1.033.208l.292.05a.25.25 0 0 0 .291-.247ZM1 8.82v1.659a1.935 1.935 0 0 0 2.298.43.935.935 0 0 1 1.08.175l.348.349a2 2 0 0 0 2.615.185l.059-.044a1 1 0 0 1 1.2 0l.06.044a2 2 0 0 0 2.613-.185l.348-.348a.938.938 0 0 1 1.082-.175c.781.39 1.718.208 2.297-.426V8.833l-.68.907a.938.938 0 0 1-1.17.276 1.938 1.938 0 0 0-2.236.363l-.348.348a1 1 0 0 1-1.307.092l-.06-.044a2 2 0 0 0-2.399 0l-.06.044a1 1 0 0 1-1.306-.092l-.35-.35a1.935 1.935 0 0 0-2.233-.362.935.935 0 0 1-1.168-.277z"/>
                      </svg>
                </a>
              </li>
              <li>
                <a href="/orders" class="nav-link Custom-color py-3 border-bottom rounded-0" title="Orders" data-bs-toggle="tooltip" data-bs-placement="right">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart-fill" viewBox="0 0 16 16">
                        <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/>
                      </svg>            
                </a>
              </li>
              <li>
                <a href="#" class="nav-link Custom-color py-3 border-bottom rounded-0" title="Products" data-bs-toggle="tooltip" data-bs-placement="right">
                  <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Products"><use xlink:href="#grid"/></svg>
                </a>
              </li>
              <li>
                <a href="#" class="nav-link Custom-color py-3 border-bottom rounded-0" title="Customers" data-bs-toggle="tooltip" data-bs-placement="right">
                  <svg class="bi pe-none" width="24" height="24" role="img" aria-label="Customers"><use xlink:href="#people-circle"/></svg>
                </a>
              </li>
            </ul>
            <div class="dropdown border-top">
              <a href="#" class="d-flex align-items-center justify-content-center p-3 link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                  </svg>         
                </a>
              <ul class="dropdown-menu text-small shadow">
              {% if user.is_authenticated %}
                <li><a class="dropdown-item" href="#">Profile | {{user.username}}</a></li>
                <li><a class="dropdown-item" href="#">Contact us</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="/logout">Logout</a></li>
              {% else %}
                <li><a class="dropdown-item" href="/login">Login</a></li>
              {%endif%}
              </ul>
            </div>
        </div>
      <div class="Right-Div ">

        
      
        {% comment %} Carouel {% endcomment %}
        <div id="myCarousel" class="carousel slide right-div pb-5 mt-5" data-bs-ride="carousel" data-bs-interval="3000">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
          </div>
          <div class="carousel-inner ">
            <div class="carousel-item active">
              <img src="/static/Cake1.jpg" class="img-fluid d-block w-100 " alt="CakeWorld">
              <div class="carousel-caption d-none d-md-block">
                <h5>First slide label</h5>
                <p>Some representative placeholder content for the first slide.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="/static/Cake2.jpg" class="d-block w-100" alt="BDay">
              <div class="carousel-caption d-none d-md-block">
                <h5>Second slide label</h5>
                <p>Some representative placeholder content for the second slide.</p>
              </div>
            </div>
            <div class="carousel-item">
              <img src="/static/Cake3.jpg" class="d-block w-100" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h5>Third slide label</h5>
                <p>Some representative placeholder content for the third slide.</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        
      <h3 class="highlight p-3 mx-5">Explore Categories<h3>
      {% comment %} Sectors {% endcomment %}
      <div class="container marketing">

        <!-- Three columns of text below the carousel -->
        <div class="row">
            <div class="col-lg-4 image-container">
              <form action="/add" method="post" enctype="multipart/form-data">

                <img src="/static/cake.jpg" class="rounded-circle" width="140" height="140" alt="Circular Image" style="max-width:140">
                <h2 class="fw-normal Custom-color-2">Cakes</h2>
                <p class="Custom-color">Some representative placeholder content for the three columns of text below the carousel. This is the first column.</p>
                <p><a class="btn btn-secondary" href="/to_menu/Cakes">ADD+ &raquo;</a></p>
              </form>
            </div><!-- /.col-lg-4 -->
          <div class="col-lg-4 image-container">
            <img src="/static/muffins.jpg" class="rounded-circle " width="140" height="140" alt="Circular Image">
            <h2 class="fw-normal Custom-color-2">Pastries</h2>
            <p class="Custom-color">Another exciting bit of representative placeholder content. This time, we've moved on to the second column.</p>
            <p><a class="btn btn-secondary" href="/to_menu/Pastries">ADD+ &raquo;</a></p>
          </div><!-- /.col-lg-4 -->

          <div class="col-lg-4 image-container">
            <img src="/static/pastry.jpg" class="rounded-circle " width="140" height="140" alt="Circular Image">
            <h2 class="fw-normal Custom-color-2">Muffins</h2>
            <p class="Custom-color">And lastly this, the third column of representative placeholder content.</p>
            <p><a class="btn btn-secondary" href="/to_menu/Muffins">ADD+ &raquo;</a></p>
          </div><!-- /.col-lg-4 -->

        </div><!-- /.row -->
      </div>
      {% comment %} loader {% endcomment %}
      <div class="loader-container" id="loaderContainer">
        <img src="static/Ripple.gif" alt="Loading..." class="loader">
      </div>
      <div class="loader-container" style='display:'id="please_login" >
        <button class="close-button" onclick="closeSignupBox()">✖</button>
        <div class="border border-5  popup "> 
            <div class="signup-content">
              <p style="color:#FFF3C7"><u>Please Log In!<u></p>
              <form method="POST" action="/login">
                {% csrf_token %}
                <label for="username" class="signup-label">Username:</label>
                <input type="text" id="username" class="signup-input rounded" placeholder="Enter your username" name="username">

                <label for="password" class="signup-label">Password:</label>
                <input type="password" id="password" class="signup-input rounded" placeholder="Enter your password" name="password">
                <div class="button_signup">
                <button class="signup-button" typr="submit">Log In</button>
                <p style="text-allign:right;color:#FFF3C7;font-size:10px;display: inline-block;">Don't have an account!!<a href="/signup/1"><u> Click Here<u><a><p>
                </div>
              </form>
            </div>
        </div>
      </div>
</main>


{% endblock Body %}

{% block script %}
<script>
  //BackGround scroll rate
  var scrollRate = 9; // Adjust this value to control the scroll rate

        // Add a scroll event listener to the document
        document.addEventListener('scroll', function() {
            
          // Update the background position based on the scroll rate
          document.body.style.backgroundPosition = 'center ' + (window.scrollY / scrollRate) + 'px';
            //var shifted=(window.scrollY / scrollRate)
            //do{
            //  document.body.style.backgroundPosition = 'center ' + (window.scrollY / scrollRate) + 'px';
            //}while(shifted < 57)
        });
  // Assuming Condition is a boolean variable passed from Django view to template
  var condition = {{ Condition|yesno:"true,false" }};

  // Get the element with ID "admincontent"
  var adminContent = document.getElementById("admincontent");

  // If the condition is true, display the admin content
  if (condition) {
      adminContent.style.display = "block";
  }
</script>
<script>
  function closeSignupBox(){
    document.getElementById('please_login').style.display="none"
    setTimeout(function(){
      document.getElementById('please_login').style.display = 'flex';
    },5000)
  }
</script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    document.getElementById('loaderContainer').style.display = 'flex';
  });
  $(document).ready(
    setTimeout(function() {
      $('#loaderContainer').css('display', 'none');
    },2000));
  // Simulate an asynchronous action (e.g., fetching data)
</script>

<script>
  $(document).ready(function(){
    $.ajax({
      url : '/logged_in',
    })
    .done(function(response){
      
      if(response == 'false'){
        setTimeout(function(){
          $('#please_login').css('display','flex')
        },5000)
      }
    })
  })


</script>
{% endblock script %}